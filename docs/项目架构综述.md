# 全栈微服务架构项目综述

## 项目整体架构

本项目采用现代化微服务架构，基于Docker容器化部署，主要由以下几个核心组件构成：

1. **Next.js前端** - 面向用户的主站前端
2. **Vue前端** - 面向管理员的后台管理系统
3. **Spring Boot后端** - 统一的RESTful API服务
4. **Nginx** - 反向代理和负载均衡
5. **MySQL** - 关系型数据库
6. **Redis** - 缓存和会话管理

整体架构采用了前后端分离设计，通过Docker Compose实现容器编排，确保各组件之间的高内聚低耦合。

## 前端技术栈

### Next.js前端（主站）

- **技术栈**：Next.js 13+（React框架）、TypeScript、Tailwind CSS
- **特点**：
  - 采用SSR（服务端渲染）和SSG（静态站点生成）混合模式，优化SEO和首屏加载速度
  - 基于React服务器组件（RSC）的现代化架构
  - 实现了完整的用户认证系统（NextAuth）
  - 集成Stripe支付系统
  - 响应式设计，确保在各种设备上的良好体验

### Vue前端（管理后台）

- **技术栈**：Vue 3、Vite构建工具
- **特点**：
  - 采用Composition API编写，代码更简洁、可维护性更高
  - 单页应用架构（SPA），优化管理后台操作体验
  - 模块化设计，便于功能扩展

## 后端技术栈

### Spring Boot后端

- **技术栈**：Spring Boot 3.2、Java 21、MyBatis-Plus
- **核心功能**：
  - RESTful API设计
  - 基于Sa-Token的统一认证授权系统
  - 使用Redis进行缓存和会话管理
  - 集成Stripe支付API
  - 文件上传下载服务
  - 邮件发送功能
  - 接口限流保护

## 部署与运维

### Nginx反向代理

- **功能**：
  - 统一路由分发
  - HTTP转HTTPS强制跳转
  - 静态资源缓存策略
  - 负载均衡
  - SSL证书配置

### Docker容器化

- **特点**：
  - 基于Docker Compose的多容器编排
  - 生产环境一键部署
  - 各服务独立扩展
  - 环境隔离，确保开发、测试、生产环境一致性

## 项目亮点

1. **微服务架构**：采用了现代化的微服务架构设计，各组件职责明确，便于独立开发、测试和部署。

2. **全栈技术选型**：
   - 前端采用Next.js和Vue两种主流框架，分别针对不同用户场景优化
   - 后端选用Spring Boot 3.2最新版本，充分利用Java 21新特性
   - 数据层使用MySQL 8和Redis 6.2，提供持久化存储和高性能缓存

3. **性能优化**：
   - Next.js实现SSR/SSG混合渲染，提升首屏加载速度和SEO表现
   - Nginx配置精细的缓存策略，减轻服务器负担
   - Spring Boot后端接口限流保护，提高系统稳定性

4. **安全性**：
   - 强制HTTPS访问
   - 采用JWT和Sa-Token实现安全认证
   - 配置了严格的跨域策略和安全头
   - 敏感信息通过环境变量注入，不在代码中硬编码

5. **可扩展性**：
   - 容器化部署支持水平扩展
   - 模块化设计便于功能迭代
   - 服务间通过API通信，降低耦合度

6. **开发体验**：
   - 热重载支持，提升开发效率
   - 完整的构建脚本和部署流程
   - TypeScript类型检查，减少运行时错误

## 项目间通信流程

1. **用户访问流程**：
   - 用户通过浏览器访问网站
   - Nginx接收请求并根据域名将流量分发到对应前端服务
   - Next.js/Vue前端处理UI渲染
   - 前端通过API调用Spring Boot后端服务
   - 后端处理业务逻辑并返回数据
   - 前端展示数据给用户

2. **数据流转**：
   - 前端通过API网关访问后端服务
   - 后端服务通过ORM框架操作数据库
   - 高频数据存储在Redis缓存中提升性能
   - 文件上传下载通过专用接口处理

3. **认证授权**：
   - 主站用户通过NextAuth实现登录（支持社交账号登录）
   - 管理后台通过Sa-Token实现认证和权限控制
   - JWT令牌用于前后端通信验证

## 总结

本项目采用了业界主流的技术栈和架构设计，实现了高性能、高可用、可扩展的全栈应用。通过Docker容器化实现了一键部署和环境一致性，Nginx反向代理提供了统一的访问入口和安全保障。前端采用Next.js和Vue分别针对不同场景进行优化，后端Spring Boot提供稳定可靠的API服务，整体系统架构清晰、职责分明，具有良好的可维护性和可扩展性。